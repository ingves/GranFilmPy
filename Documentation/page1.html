

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Create and configure your simulation &mdash; GranFilm 1.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="GranFilm 1.0 documentation" href="index.html"/>
        <link rel="next" title="Run the simulation and get the results" href="page2.html"/>
        <link rel="prev" title="Import GranFilm on your python IDE" href="page0.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> GranFilm
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Table of contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="page0.html">Import GranFilm on your python IDE</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Create and configure your simulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="page2.html">Run the simulation and get the results</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">GranFilm</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Create and configure your simulation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/page1.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="create-and-configure-your-simulation">
<h1>Create and configure your simulation<a class="headerlink" href="#create-and-configure-your-simulation" title="Permalink to this headline">¶</a></h1>
<p>Use the <strong>GranFilm</strong> function to create a new simulation with the wanted parameters.</p>
<p><u> Example:</u> <code class="docutils literal"><span class="pre">gf</span> <span class="pre">=</span> <span class="pre">GranFilm(param1</span> <span class="pre">=</span> <span class="pre">value1,param2</span> <span class="pre">=</span> <span class="pre">value2,...)</span></code> will initialize a simulation named <strong>gf</strong>. <br />
You only need to precise the value of the parameters that you want to set. <br /> Default values will be assigned to the other ones.</p>
<p>You can also import your configuration from an external input file. In this file, set a parameter by writing <strong>name_of_the_parameter = value</strong> in one line of the input file.</p>
<p><u> Example:</u> <code class="docutils literal"><span class="pre">gf</span> <span class="pre">=</span> <span class="pre">GranFilm(param_file</span> <span class="pre">=</span> <span class="pre">'/path/to/input_file')</span></code>. <br />
Here the program set the parameters according to those you defined in the input file, the others will take default values. <br />
When you run <strong>Init_GranFilm.py</strong> for the first time, an input file with all the parameters and their default values has been created in the GranFilm package. <br /> The python variable <strong>input_file</strong> contains the path to this default input file so you can change some parameters of this file and type <code class="docutils literal"><span class="pre">gf=GranFilm(param_file=input_file)</span></code> to import the configuration you want.</p>
<p>Here is a description of the most important parameters that you can set.</p>
<dl class="function">
<dt id="GranFilm">
<code class="descname">GranFilm</code><span class="sig-paren">(</span><em>radius=8.0, truncation_ratio=0.0, radius_ratios=[1.0],               media=&quot; air , mgo , ag , mgo &quot;, broadening_par=0.0, broadening_perp=0.0, theta=45.0, phi=0.0,               energy_range=[ 1.5 , 5 ], pol='p', arrangement=&quot;Lattice&quot;, lattice_type=&quot;Square&quot;,               island_island=&quot;None&quot;, lattice_constant=20.0, multip_pos_rat=0.0, number_en_points=300,               multip_order=30, lower_constraint=[ 0.0 , 0.0 , 0.0 ], upper_constraint=[ 1e10 , 1.0 , 1e10 ],               sigma=0.005, freeze_broadening=False, points_file=&quot;None&quot;, energy=[2.2], area_ratio_pot=2.0, number_pot_points=300,               materials=[ &quot;air&quot; , &quot;mgo&quot; , &quot;ag&quot; ], extra_parameters=[ {} , {} , {} ], param_file=None</em><span class="sig-paren">)</span><a class="headerlink" href="#GranFilm" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Synopsis:</th><td class="field-body"><p class="first">Initializes a new simulation and its parameters.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>radius</strong> (<em>float</em><em> or </em><em>float list</em>) &#8211; The radius of the particles (nm). A float for a sphere or a <br /> list = [ radius parallel to the interface , radius perpendicular
to the interface ] for a spheroidal particle.</li>
<li><strong>truncation_ratio</strong> (<em>float</em>) &#8211; <strong>[distance center of the particle - substrate] / radius</strong> <br />
<code class="docutils literal"><span class="pre">Supported</span> <span class="pre">values:</span> <span class="pre">truncation_ratio</span> <span class="pre">in</span> <span class="pre">[0,1]</span> <span class="pre">for</span> <span class="pre">a</span> <span class="pre">non-coated</span> <span class="pre">particle</span></code>
<code class="docutils literal"><span class="pre">and</span> <span class="pre">in</span> <span class="pre">[0,radius_inner_shell</span> <span class="pre">/</span> <span class="pre">radius_outer_shell]</span> <span class="pre">for</span> <span class="pre">a</span> <span class="pre">coated</span> <span class="pre">one</span></code> <br /> <br />
<code class="docutils literal"><span class="pre">Example:</span></code> <br /> <br />
<a class="reference internal" href="_images/gf_trunc_ratio.png"><img alt="image_truncation_ratio" src="_images/gf_trunc_ratio.png" style="width: 251.5px; height: 113.5px;" /></a> <br /> <br /></li>
<li><strong>radius_ratios</strong> (<em>float list</em>) &#8211; For a coated particle we can define for each layer the radius ratio as <strong>[radius of the layer] / [radius of the particle]</strong> <br />
The radius ratios is then the list of the radius ratio from the outer shell to the core. <br /> <br />
<code class="docutils literal"><span class="pre">Example:</span></code> <br /> <br />
<a class="reference internal" href="_images/gf_radius_ratios.png"><img alt="image_radius_ratios" src="_images/gf_radius_ratios.png" style="width: 414.0px; height: 302.0px;" /></a> <br /> <br /></li>
<li><strong>media</strong> (<em>string</em>) &#8211; A string with the materials used for the simulation, separated by a coma -&gt; media = &#8220;m1,m2,m3,m4, ...&#8221; <br />
m1 is the material from which the incident light comes, m2 is the substrate, m3 and m4 correspond to the part
of the outer shell which is above and below the substrate, and so on for the inner shells. <br /> <br />
<code class="docutils literal"><span class="pre">Note:</span> <span class="pre">The</span> <span class="pre">SOPRA</span> <span class="pre">database</span> <span class="pre">must</span> <span class="pre">contain</span> <span class="pre">the</span> <span class="pre">dielectric</span> <span class="pre">functions</span> <span class="pre">of</span> <span class="pre">the</span></code> <code class="docutils literal"><span class="pre">given</span> <span class="pre">materials.</span></code> <br /> <br />
<code class="docutils literal"><span class="pre">Example:</span></code> <br /> <br />
<a class="reference internal" href="_images/gf_media.png"><img alt="image_media" src="_images/gf_media.png" style="width: 417.5px; height: 236.0px;" /></a> <br /> <br /></li>
<li><strong>materials</strong> (<em>list of string</em>) &#8211; a list of strings for each material in media. If media = &#8221; air , mgo , ag , mgo &#8221; then materials = [ &#8220;air&#8221; , &#8220;mgo&#8221; , &#8220;ag&#8221; ]</li>
<li><strong>theta</strong> (<em>float</em>) &#8211; the angle of incidence</li>
<li><strong>energy_range</strong> (<em>float list</em>) &#8211; a list with the minimum / maximum of the energy range (in eV) on which GranFilm will provide data
-&gt; energy_range = [energy_min,energy_max] <br /> <br />
<code class="docutils literal"><span class="pre">Note:</span> <span class="pre">An</span> <span class="pre">error</span> <span class="pre">can</span> <span class="pre">occur</span> <span class="pre">if</span> <span class="pre">the</span> <span class="pre">refractive</span> <span class="pre">index</span> <span class="pre">of</span> <span class="pre">one</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">material</span></code>
<code class="docutils literal"><span class="pre">used</span> <span class="pre">is</span> <span class="pre">not</span> <span class="pre">defined</span> <span class="pre">over</span> <span class="pre">this</span> <span class="pre">energy</span> <span class="pre">range</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">SOPRA_DataBase.</span></code>
<code class="docutils literal"><span class="pre">Use</span> <span class="pre">gf.param.Epsilon(material)</span> <span class="pre">to</span> <span class="pre">get</span> <span class="pre">the</span> <span class="pre">energy</span> <span class="pre">range</span> <span class="pre">on</span> <span class="pre">which</span> <span class="pre">the</span></code>
<code class="docutils literal"><span class="pre">material</span> <span class="pre">can</span> <span class="pre">be</span> <span class="pre">used</span></code> <br /> <br /></li>
<li><strong>lattice_type</strong> (<em>string</em>) &#8211; the type of the 2D lattice -&gt; &#8216;Square&#8217; or &#8216;Hexagonal&#8217;</li>
<li><strong>lattice_const</strong> (<em>float</em>) &#8211; the distance between two particles of the lattice</li>
<li><strong>island_island</strong> (<em>string</em>) &#8211; The nature of the interaction between the particles of the lattice. <br />
&#8216;None&#8217; -&gt; the interaction between the particle is not taken into account (valid when the particles are far from each other,
which is almost always the case) <br />
&#8216;Dipole&#8217; / &#8216;Quadripole&#8217; -&gt; Each particle interacts with the others as a dipole / quadripole</li>
<li><strong>points_file</strong> (<em>string</em>) &#8211; the path to the text file with all the points where GranFilm will calculate the electric potential. <br />
&#8220;None&#8221; if you doesn&#8217;t want the potential, &#8220;classic&#8221; if you want the potential in the area around the particle and &#8220;surface&#8221;
for the error on the calculation of the potential.</li>
<li><strong>energy</strong> (<em>float list</em>) &#8211; A list containing the energy at which the scalar potential will be calculated.</li>
<li><strong>area_ratio_pot</strong> (<em>float</em>) &#8211; For the &#8220;classic&#8221; points_file, the potential is calculated in a rectangle
(area_ratio_pot*radius_parallel , area_ratio_pot*radius_normal)</li>
<li><strong>number_pot_points</strong> (<em>int</em>) &#8211; The potential is calculated on a number_pot_points ² grid</li>
<li><strong>number_en_points</strong> (<em>int</em>) &#8211; The number of points in the energy range</li>
<li><strong>multip_order</strong> (<em>int</em>) &#8211; The multipole order i.e the level of the troncation in the calculation of the potential. The higher is the multipole order
the better is the precsion of the simulation.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<p>Once you&#8217;ve initialized a new simulation, you can use the &#8220;gf.param&#8221; object as a python dictionary to handle the parameters:</p>
<blockquote>
<div><ul class="simple">
<li>use <code class="docutils literal"><span class="pre">gf.param[&quot;name_of_the_parameter&quot;]</span></code> to get the wanted value</li>
<li>use <code class="docutils literal"><span class="pre">gf.param[&quot;name_of_the_parameter&quot;]</span> <span class="pre">=</span> <span class="pre">value</span></code> to set this parameter</li>
</ul>
</div></blockquote>
<p>The command <code class="docutils literal"><span class="pre">gf.param()</span></code> prints all the parameters of the simulation</p>
<p><u> Example:</u></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">gf</span><span class="o">=</span><span class="n">GranFilm</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gf</span><span class="o">.</span><span class="n">param</span><span class="p">()</span> <span class="c1"># print the configuration of the system (here the default configuration)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="go">&gt;&gt;&gt;&amp;Global</span>
<span class="gp">&gt;&gt;&gt; </span> <span class="n">granfilm_root</span>     <span class="o">=</span> <span class="s1">&#39;/home/alexis/Bureau/GranFilm_Package/GranFilm_Linux&#39;</span>
<span class="gp">&gt;&gt;&gt; </span> <span class="n">sopra_root</span>        <span class="o">=</span> <span class="s1">&#39;/home/alexis/Bureau/GranFilm_Package/SOPRA_DataBase/&#39;</span>
<span class="go">&gt;&gt;&gt;/</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="go">&gt;&gt;&gt;&amp;Source</span>
<span class="gp">&gt;&gt;&gt; </span> <span class="n">theta</span>             <span class="o">=</span> <span class="mf">0.0</span>
<span class="gp">&gt;&gt;&gt; </span> <span class="n">phi</span>               <span class="o">=</span> <span class="mf">0.0</span>
<span class="gp">&gt;&gt;&gt; </span> <span class="n">pol</span>               <span class="o">=</span> <span class="s1">&#39;p&#39;</span>
<span class="gp">&gt;&gt;&gt; </span> <span class="n">energy_range</span>      <span class="o">=</span> <span class="p">[</span><span class="mf">1.5</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="go">&gt;&gt;&gt;/</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="go">&gt;&gt;&gt;&amp;Geometry</span>
<span class="gp">&gt;&gt;&gt; </span> <span class="n">radius</span>            <span class="o">=</span> <span class="mf">8.0</span>
<span class="gp">&gt;&gt;&gt; </span> <span class="n">truncation_ratio</span>  <span class="o">=</span> <span class="mf">0.0</span>
<span class="gp">&gt;&gt;&gt; </span> <span class="n">broadening_par</span>    <span class="o">=</span> <span class="mf">0.0</span>
<span class="gp">&gt;&gt;&gt; </span> <span class="n">broadening_perp</span>   <span class="o">=</span> <span class="mf">0.0</span>
<span class="gp">&gt;&gt;&gt; </span> <span class="n">radius_ratios</span>     <span class="o">=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span> <span class="n">media</span>             <span class="o">=</span> <span class="s2">&quot;air, mgo,ag,mgo&quot;</span>
<span class="go">&gt;&gt;&gt;/</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="go">&gt;&gt;&gt;&amp;Interaction</span>
<span class="gp">&gt;&gt;&gt; </span> <span class="n">arrangement</span>       <span class="o">=</span> <span class="s1">&#39;Lattice&#39;</span>
<span class="gp">&gt;&gt;&gt; </span> <span class="n">lattice_type</span>      <span class="o">=</span> <span class="s1">&#39;Square&#39;</span>
<span class="gp">&gt;&gt;&gt; </span> <span class="n">island_island</span>     <span class="o">=</span> <span class="s1">&#39;None&#39;</span>
<span class="gp">&gt;&gt;&gt; </span> <span class="n">lattice_constant</span>  <span class="o">=</span> <span class="mf">20.0</span>
<span class="go">&gt;&gt;&gt;/</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="go">&gt;&gt;&gt;&amp;Curvefitting</span>
<span class="gp">&gt;&gt;&gt; </span> <span class="n">lower_constraint</span>  <span class="o">=</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span> <span class="n">upper_constraint</span>  <span class="o">=</span> <span class="p">[</span><span class="mf">10000000000.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">10000000000.0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span> <span class="n">sigma</span>             <span class="o">=</span> <span class="mf">0.005</span>
<span class="gp">&gt;&gt;&gt; </span> <span class="n">freeze_broadening</span> <span class="o">=</span> <span class="kc">False</span>
<span class="go">&gt;&gt;&gt;/</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="go">&gt;&gt;&gt;&amp;Potential</span>
<span class="gp">&gt;&gt;&gt; </span> <span class="n">points_file</span>       <span class="o">=</span> <span class="s1">&#39;classic&#39;</span>
<span class="gp">&gt;&gt;&gt; </span> <span class="n">energy</span>            <span class="o">=</span> <span class="p">[</span><span class="mf">2.2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span> <span class="n">area_ratio_pot</span>    <span class="o">=</span> <span class="mf">2.0</span>
<span class="gp">&gt;&gt;&gt; </span> <span class="n">number_pot_points</span> <span class="o">=</span> <span class="mi">300</span>
<span class="go">&gt;&gt;&gt;/</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="go">&gt;&gt;&gt;&amp;Numerics</span>
<span class="gp">&gt;&gt;&gt; </span> <span class="n">multip_pos_rat</span>    <span class="o">=</span> <span class="mf">0.0</span>
<span class="gp">&gt;&gt;&gt; </span> <span class="n">number_en_points</span>  <span class="o">=</span> <span class="mi">300</span>
<span class="gp">&gt;&gt;&gt; </span> <span class="n">multip_order</span>      <span class="o">=</span> <span class="mi">30</span>
<span class="go">&gt;&gt;&gt;/</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="go">&gt;&gt;&gt;&amp;Media</span>
<span class="gp">&gt;&gt;&gt; </span> <span class="n">materials</span>         <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;air&#39;</span><span class="p">,</span> <span class="s1">&#39;mgo&#39;</span><span class="p">,</span> <span class="s1">&#39;ag&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span> <span class="n">extra_parameters</span>  <span class="o">=</span> <span class="p">[{},</span> <span class="p">{},</span> <span class="p">{}]</span>
<span class="go">&gt;&gt;&gt;/</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gf</span><span class="o">.</span><span class="n">param</span><span class="p">[</span><span class="s2">&quot;radius&quot;</span><span class="p">]</span><span class="o">=</span><span class="mf">6.0</span> <span class="c1"># Set the radius to 6.0 nanometers</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gf</span><span class="o">.</span><span class="n">param</span><span class="p">[</span><span class="s2">&quot;radius&quot;</span><span class="p">]</span>
<span class="go">6.0 # Now the radius = 6.0 nm</span>
</pre></div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="page2.html" class="btn btn-neutral float-right" title="Run the simulation and get the results" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="page0.html" class="btn btn-neutral" title="Import GranFilm on your python IDE" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Alexis CVETKOV-ILIEV.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>